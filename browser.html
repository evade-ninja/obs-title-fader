<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Lyrics Source</title>
	<link rel="stylesheet" href="browser.css">
	<script src="vars.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	</head>
	
	<body>
	
	<!--<div id="title-panel" class="center" style="display:none;" >-->
	<div id="title-panel" class="left" style="display: none;">
		<div>
			<h1 id="title-name">Sample Person</h1>
			<h2 id="title-subtitle">Sample Subtext Description</h2>
		</div>
	</div>
</body>

<script type="text/javascript">
const mindcontrol = new BroadcastChannel('obs-title');

mindcontrol.onmessage = (messageEvent) => {
	//alert(messageEvent.data.action);

	if (messageEvent.data.action === 'hide') {
		$("#title-panel").fadeOut(fade_time);
	}
	if (messageEvent.data.action === 'show') {
		$("#title-name").html(messageEvent.data.text1);
	    $("#title-subtitle").html(messageEvent.data.text2);
		$("#title-panel").fadeIn(fade_time);
		setTimeout(function(){$('#title-panel').fadeOut(fade_time);}, title_length);
	}
	if (messageEvent.data.action === 'load') {
		$("#title-name").html(messageEvent.data.text1);
		$("#title-subtitle").html(messageEvent.data.text2);
	}
  }

window.addEventListener('otfShow', function (event) {
	$("#title-panel").fadeIn(fade_time);
	setTimeout(function () { $('#title-panel').fadeOut(fade_time); }, title_length);
});

</script>
</html>